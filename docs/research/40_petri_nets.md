# ペトリネットの理論と応用

## 概要

ペトリネット（Petri Nets）は、並行・分散システムを数学的にモデル化するための強力な形式手法である。1962年にCarl Adam Petri（カール・アダム・ペトリ）が博士論文「Communication with Automata（オートマトンとの通信）」で発表した。ペトリネットは、プレース（場所）とトランジション（遷移）という二種類のノードを持つ有向二部グラフとして視覚的に表現され、離散事象システムの動的な振る舞いを記述する。

ペトリネットは、並行性（concurrency）をコンピューティングの基本的な側面として初めて認識したモデルであり、同期、通信、資源共有などの並行システム特有の現象を自然に表現できる。制御システム、ビジネスプロセス、製造システム、ネットワークプロトコルなど、多様な分野で応用されている。

## 1. 歴史的背景

### 1.1 Carl Adam Petriの貢献

Carl Adam Petriは、1962年にボン大学で科学者として働いていた際に、画期的な博士論文を提出した。1950年代末から1960年代初頭にかけて、主流が数学的に複雑な逐次問題の局所計算に焦点を当てていた時代に、Petriは並行性と同期の理論に対する革新的なアプローチを開発した。

**歴史的意義:**

- 最初のコンピュータ科学者として並行性を計算の基本的側面と認識
- コンピュータ科学の全く新しい基礎を1962年の博士論文で概説
- 並行・分散システムの形式的モデル化の基盤を確立

### 1.2 ペトリネットの発展

Petriが1962年に蒔いた種は、まずアメリカで成長した（本質的には1970年代半ばまで）。そこには、コンピュータ科学、ビジネスプロセス管理、交換システム設計において適切な知的風土が存在した。その後、ヨーロッパで論理制御や性能評価を含む多くの新しい活動分野が開花した。

**研究の広がり:**

1962年のPetriネットの導入以降、その性質と構造を分析する大規模な研究努力が続き、製造・プロセスエンジニアリングからコンピュータシステム・ネットワーク/トラフィックプロトコルに至る様々な応用において、離散事象システムの重要なモデリングツールとして制御コミュニティに採用された。

## 2. ペトリネットの基本構造

### 2.1 定義

ペトリネットは、以下の要素から構成される有向二部グラフである:

**数学的定義:**

ペトリネット N = (P, T, F, W, M₀) は以下から成る:

- **P**: プレース（places）の有限集合
- **T**: トランジション（transitions）の有限集合（P ∩ T = ∅）
- **F**: フロー関係 F ⊆ (P × T) ∪ (T × P)
- **W**: アーク重み関数 W: F → ℕ⁺（正整数）
- **M₀**: 初期マーキング M₀: P → ℕ（非負整数）

### 2.2 構成要素

#### プレース（Place）

- **表現**: 円（○）で描画される
- **意味**: 条件、状態、リソースの保持場所を表す
- **機能**: トークンを保持する

#### トランジション（Transition）

- **表現**: 長方形（□）または棒（|）で描画される
- **意味**: イベント、アクション、活動を表す
- **機能**: トークンの移動を引き起こす

#### トークン（Token）

- **表現**: 黒い点（●）または数字で描画される
- **意味**: リソース、データ、制御の流れを表す
- **配置**: プレース上に非負整数個配置される

#### アーク（Arc）

- **表現**: 矢印付きの有向辺
- **制約**: プレースとトランジション、またはトランジションとプレースの間のみ
- **重み**: 各アークには正整数の重みが付けられる（デフォルトは1）

### 2.3 マーキング（Marking）

**定義:**

マーキングMは、各プレースに配置されたトークンの配置状態を表す関数 M: P → ℕ である。マーキングはシステムの状態を表現する。

**表記:**

マーキングは、しばしばベクトル表記で表される:
```
M = (m₁, m₂, ..., mₙ)
```
ここで、mᵢはプレースpᵢ上のトークン数である。

## 3. 発火規則と動的振る舞い

### 3.1 発火可能性（Enabled）

トランジションtがマーキングMで**発火可能（enabled）**であるとは:

```
すべての入力プレース p ∈ •t に対して、M(p) ≥ W(p, t)
```

ここで、•tはトランジションtの入力プレースの集合、W(p, t)はプレースpからトランジションtへのアークの重みである。

### 3.2 発火（Firing）

発火可能なトランジションtが発火すると、新しいマーキングM'が生成される:

```
M'(p) = M(p) - W(p, t) + W(t, p)
```

すべてのプレースpに対して。

**動作:**

1. 各入力プレースから、入力アークの重みの数だけトークンを取り去る
2. 各出力プレースに、出力アークの重みの数だけトークンを与える

**表記:**

マーキングMにおいてトランジションtが発火してマーキングM'になることを、M[t⟩M' と表記する。

### 3.3 発火系列（Firing Sequence）

発火系列σ = t₁t₂...tₙは、トランジションの列であり、以下を満たす:

```
M₀[t₁⟩M₁[t₂⟩M₂...Mₙ₋₁[tₙ⟩Mₙ
```

これは、初期マーキングM₀から開始して、トランジションを順に発火することでマーキングMₙに到達することを示す。

## 4. ペトリネットの基本性質

### 4.1 到達可能性（Reachability）

**定義:**

マーキングMが初期マーキングM₀から**到達可能（reachable）**であるとは、M₀からMに至る発火系列が存在することである。

**到達可能集合:**

ペトリネットNの初期マーキングM₀に対する到達可能集合R(N, M₀)は、M₀から到達可能なすべてのマーキングの集合である。

**到達可能性問題:**

与えられたマーキングMが到達可能かどうかを判定する問題。到達可能性問題は決定可能だが、少なくとも指数時間と空間を必要とする。

### 4.2 有界性（Boundedness）

**定義:**

ペトリネットが**k-有界（k-bounded）**であるとは、到達可能なすべてのマーキングにおいて、すべてのプレースpに対して M(p) ≤ k となる有限の整数kが存在することである。

**安全性（Safeness）:**

k = 1の場合、ペトリネットは**安全（safe）**または**1-有界（1-bounded）**であるという。安全性は、各プレースに最大1つのトークンしか存在しないことを保証する。

**判定:**

ペトリネットが有界であるための必要十分条件は、その到達可能グラフが有限であることである。また、カバラビリティツリーにおいて記号ω（無限大）が現れないことでも判定できる。

### 4.3 活性（Liveness）

**定義:**

トランジションtがマーキングMで**活性（live）**であるとは、Mから到達可能な任意のマーキングM'に対して、M'からtが発火可能なマーキングに到達できることである。

**ペトリネットの活性:**

すべてのトランジションが初期マーキングM₀で活性であるとき、ペトリネットNは**活性**であるという。

**意義:**

活性は、デッドロック（deadlock）の不在を保証する重要な性質である。活性なペトリネットでは、いかなるトランジションも永久にブロックされることがない。

### 4.4 デッドロック（Deadlock）

**定義:**

マーキングMが**デッドロック状態**であるとは、発火可能なトランジションが一つも存在しないことである。

**デッドロックフリー:**

初期マーキングから到達可能なすべてのマーキングにおいて、少なくとも1つのトランジションが発火可能であるとき、ペトリネットは**デッドロックフリー**である。

### 4.5 可逆性（Reversibility）

**定義:**

ペトリネットが**可逆的（reversible）**であるとは、到達可能なすべてのマーキングMから初期マーキングM₀に戻ることができることである。

### 4.6 保存性（Conservation）

**定義:**

ペトリネットが**保存的（conservative）**であるとは、すべての到達可能なマーキングにおいて、ネット全体のトークン総数が一定であることである。

## 5. ペトリネットの解析手法

### 5.1 到達可能グラフ（Reachability Graph）

**概要:**

到達可能グラフは、ペトリネットの状態空間を表現するグラフである。ノードがマーキングに対応し、エッジがトランジションの発火に対応する。

**構成:**

- **ノード**: 到達可能なすべてのマーキング
- **エッジ**: M[t⟩M'のとき、MからM'へラベルtの有向辺

**利点:**

- 有界なペトリネットでは有限グラフ
- すべての動的性質を解析可能

**欠点:**

- 状態爆発問題（state explosion problem）
- 指数的にノード数が増加する可能性

### 5.2 カバラビリティツリー/グラフ（Coverability Tree/Graph）

**目的:**

無界なペトリネットに対しても有限な表現を提供する。

**ω記号の導入:**

トークン数が無限に増加する可能性のあるプレースに対して、特殊な記号ω（無限大）を導入する。

**アルゴリズム（Karp-Millerツリー）:**

1. 初期マーキングM₀をルートとする
2. 各ノードから発火可能なトランジションを発火
3. 新しいマーキングM'が経路上の先祖マーキングMと比較して、一部のプレースでトークンが増加している場合、増加したプレースの値をωにする
4. すべてのノードを展開するまで繰り返す

**性質:**

- 常に有限で、構築は必ず停止する
- 有界性判定: ωが現れない ⇔ ペトリネットは有界
- カバラビリティ問題の解決

### 5.3 インバリアント解析（Invariant Analysis）

#### P-インバリアント（Place Invariant）

**定義:**

非負整数ベクトル y で、以下を満たすもの:

```
Aᵀy = 0
```

ここで、Aはペトリネットの接続行列（incidence matrix）である。

**意味:**

P-インバリアントyにより重み付けされたトークン数の合計は、トランジションの発火により不変である:

```
yᵀM = yᵀM'  (すべての到達可能なマーキングM, M'に対して)
```

**応用:**

- 保存性の証明
- 相互排除性の検証
- 有界性の証明

#### T-インバリアント（Transition Invariant）

**定義:**

非負整数ベクトル x で、以下を満たすもの:

```
Ax = 0
```

**意味:**

T-インバリアントxは、マーキングを変化させない発火系列の発火回数ベクトルに対応する。つまり、xに従ってトランジションを発火させると、元のマーキングに戻る。

**応用:**

- 可逆性の分析
- サイクルの検出
- 活性の証明

### 5.4 サイフォンとトラップ（Siphons and Traps）

#### サイフォン（Siphon）

**定義:**

プレースの部分集合Sがサイフォンであるとは、Sのすべての出力トランジションが、Sへの入力トランジションでもあることである。

**性質:**

サイフォンが空になると（トークンが無くなると）、それに関連するすべてのトランジションは永久に発火不可能になる。これは、ネットシステムにおけるプロセスの一部または全部の永久的なブロッキングを示す。

**デッドロック制御:**

サイフォンは、ペトリネットでモデル化された自動製造システムにおけるデッドロックの分析と制御に広く利用されている。基本サイフォン理論は、構造的にシンプルな活性実施ペトリネットスーパーバイザーの開発において重要な役割を果たす。

#### トラップ（Trap）

**定義:**

プレースの部分集合Qがトラップであるとは、Qのすべての入力トランジションが、Qからの出力トランジションでもあることである。

**性質:**

トラップが一度マークされると（トークンを持つと）、常にマークされたままである。

**課題:**

完全なサイフォン列挙は、NP完全問題である。また、デッドロックとライブロックのチェックは一般に到達可能グラフ技術により行われるが、状態爆発問題が大きな障害となる。

### 5.5 構造解析（Structural Analysis）

**接続行列（Incidence Matrix）:**

ペトリネットN = (P, T, F, W)の接続行列Aは、|P| × |T|の行列で:

```
A[i, j] = W(tⱼ, pᵢ) - W(pᵢ, tⱼ)
```

接続行列は、トランジションの発火によるマーキングの変化を表現する:

```
M' = M + A·σ
```

ここで、σは発火系列の発火回数ベクトルである。

## 6. ペトリネットの拡張

### 6.1 色付きペトリネット（Colored Petri Nets: CPN）

**概要:**

色付きペトリネット（CPN）は、並行・分散システムをモデル化し検証するためのグラフィカル言語である。CPNは、ペトリネットと関数型プログラミング言語Standard MLを組み合わせた離散事象モデリング言語である。

**開発者:**

Kurt Jensenが1980年の博士論文で最初の種類のCPNを導入した。2000年から、第二世代のツールサポートであるCPN Toolsが、オーフス大学で設計・実装された。主要な設計者は、Kurt Jensen、Søren Christensen、Lars M. Kristensen、Michael Westergaardである。

**主な特徴:**

- **トークンの型**: トークンに型（色）を付与し、複雑なデータ構造を表現
- **ガード式**: トランジションに発火条件を付与
- **アーク式**: アーク上の式により、トークンの複雑な移動を記述
- **時間拡張**: タイムスタンプ付きトークンによる時間的振る舞いのモデル化

**CPN Tools:**

- 高速シミュレータ: タイムなしネットとタイム付きネットの効率的処理
- 状態空間解析: 完全または部分的な状態空間の生成と解析
- 標準状態空間レポート: 有界性、活性などの性質情報を含む
- 現在、アイントホーフェン工科大学AISグループが管理

**応用:**

設計、仕様、シミュレーション、検証、および様々な応用領域における実装に利用される。

### 6.2 時間ペトリネット（Timed Petri Nets）

**概要:**

時間ペトリネットは、時間制約を持つリアルタイムシステムをモデル化し設計するための形式モデルである。

**時間の扱い:**

- トランジションが「実時間」で発火する
- 各トランジションに決定的または確率的な発火時間を関連付ける
- トークンは発火開始時に入力プレースから取り除かれ、発火終了時に出力プレースに配置される

**時間的性質の分析:**

- 最小/最大発火時間
- 二つのトランジションの発火間の最小/最大時間間隔
- 離散的な解析手法により時間的性質を確立

**解析能力:**

- **定性的性質**: 安全性、活性、デッドロックなどの基本的な構造的性質
- **定量的パラメータ**: 利用率、スループット、応答時間などの性能評価

**応用:**

リアルタイムシステムの仕様、検証、性能評価。製造システムや組み込みアプリケーションを含む。

### 6.3 確率的ペトリネット（Stochastic Petri Nets: SPN）

**基本概念:**

確率的ペトリネットは、トランジションが確率的遅延の後に発火するペトリネットの一形態である。発火時間は、確率変数によって決定され、通常は指数分布に従う。

**一般化確率的ペトリネット（GSPN）:**

GSPNは、SPNをさらに拡張したもので:

- **時間付きトランジション**: 指数分布に従う発火時間
- **即時トランジション**: ゼロの発火時間
- **優先度と重み**: 競合する即時トランジションの解決

GSPNは、離散事象動的システムの複雑なモデルを分析し、その性能と信頼性を評価するために便利に使用できるモデリング形式である。

**高度な拡張:**

- **マルコフ再生確率的ペトリネット（MRSPN）**: 一般的な確率分布に従うGENトランジションを持つ
- **確率的活動ネットワーク（SAN）**: ペトリネットの強力で柔軟な拡張
- **確率的高レベルペトリネット**: 高レベルペトリネットに指数分布の発火時間を持つトランジションを追加

**階層性:**

この階層は、複雑なシステムの振る舞いを捉えるための表現力とモデリングの柔軟性の増加を表している。

### 6.4 その他の拡張

**階層的ペトリネット（Hierarchical Petri Nets）:**

大規模システムを階層的に分解してモデル化する。サブネットを抽象化し、異なる詳細レベルでシステムを表現する。

**オブジェクト指向ペトリネット:**

オブジェクト指向の概念（カプセル化、継承、多態性）をペトリネットに統合する。

**ファジィペトリネット:**

ファジィ論理を導入し、不確実性や曖昧さをモデル化する。

## 7. ワークフローネット（Workflow Nets）

### 7.1 定義と概要

**ワークフローネット（WF-net）:**

ワークフローネットは、ビジネスプロセスを形式的に表現するために用いられる特殊なクラスのペトリネットである。ワークフロー管理システム（WFMS）におけるワークフロー手続きを形式的に表現できる。

**構造:**

WF-netは、開始プレースと終了プレースを持つペトリネットである:

- **開始プレース（source place）**: 入力アークを持たない
- **終了プレース（sink place）**: 出力アークを持たない
- **接続性**: すべてのノードが開始プレースから終了プレースへのパス上にある

トランジションはWF-netにおいてアクティビティに対応する。

### 7.2 健全性（Soundness）

**定義:**

健全性は、ライブロック、デッドロック、およびドメイン知識なしで検出できるその他の異常の不在を保証する重要な性質である。

**形式的定義:**

WF-netが健全であるとは:

1. **オプション完了可能**: すべての到達可能な構成から最終構成に到達できる
2. **適切終了**: 最終構成において、終了プレースのみがトークンを持つ
3. **トランジションの活性**: デッドトランジション（決して発火しないトランジション）が存在しない

**等価条件:**

WF-netが健全である必要十分条件は、わずかに修正されたバージョンのネットが活性かつ有界であることである。

### 7.3 健全性の変種と複雑性

**健全性の変種:**

文献には8種類の健全性の概念が記述されており、すべてワークフローネットに対して決定可能である。しかし、ほとんどの拡張により、これらの概念はすべて決定不可能になる。

**計算複雑性:**

三つの主要な健全性の変種の複雑性が決定されている:

- **古典的健全性**: EXPSPACE完全
- **構造的健全性**: EXPSPACE完全
- **一般化健全性**: PSPACE完全

### 7.4 Wil van der Aalstの貢献

Wil van der Aalstは、ワークフローネットの理論と応用において先駆的な貢献をした。彼の研究は、ペトリネットをワークフロー管理に応用することで、ビジネスプロセスのモデリングと検証の分野に大きな影響を与えた。

## 8. 並行システムのモデリング

### 8.1 並行システムの特徴

ペトリネットは、以下の並行システムの特徴を自然にモデル化できる:

- **並行実行**: 複数のトランジションが同時に発火可能
- **同期**: トランジションが複数の入力プレースからトークンを必要とすることで表現
- **競合**: 複数のトランジションが同じトークンを必要とする
- **因果関係**: アークによる依存関係の表現
- **非決定性**: 複数の発火可能なトランジションからの選択

### 8.2 デッドロックの分析と制御

**デッドロック問題:**

並行システムにおいて、ペトリネットは固有の特性により、デッドロック問題に対処するための最も人気があり完全な数学的ツールの一つとなっている。

**ペトリネットによる特徴:**

- **インバリアント**: 繰り返しベクトル
- **構造**: サイフォンとトラップ
- **基本性質**: 到達可能性、活性、デッドロック、健全性

**活性とデッドロック:**

ペトリネット形式主義において、活性はシステム安全性の重要な性質であり、自動製造システムにおけるグローバルおよびローカルなデッドロック状況の不在を意味する。

**循環待機:**

活性の特徴付けにより、デッドロックが循環待機の観点でどのように研究できるか、そして循環待機状況がペトリネットモデルのサイフォンに関連する特定のマーキングにどのように対応するかが確立される。

### 8.3 並行バグのモデリング

マルチスレッドソフトウェアにおける並行バグ（データ競合、アトミシティ違反、デッドロック）は、ペトリネットを用いてモデル化し解析できる。ペトリネットの構造的分析と振る舞い的検証手法により、並行システムの正当性を保証できる。

## 9. 応用事例

### 9.1 ビジネスプロセスモデリング

**概要:**

ビジネスプロセスマネジメントのためにビジネスプロセスを定義することをビジネスプロセスモデリングと呼ぶ。これらの言語や記法は、ペトリネットやオートマトンといった基礎的な技術に基づいて定義されている。

**マッピング:**

- **トークン**: ビジネスオブジェクト
- **トランジション**: アクティビティ
- **プレース**: アクティビティ待機状態

この解釈により、ビジネスプロセスを形式的に表現できる。

**メリット:**

- プロセスの形式的検証
- デッドロックやライブロックの検出
- プロセスの最適化
- 健全性の保証

### 9.2 製造システム

**応用分野:**

- 製造ラインの最適化
- スケジューリングとプランニング
- デッドロック回避制御
- 柔軟製造システム（FMS）

**事例:**

ある製薬会社では、ペトリネットを利用して薬の製造プロセスを最適化した。また、農業生産法人等が管理する複数圃場の生産ラインの効率化にも応用されている。

### 9.3 ネットワークプロトコル

ペトリネットは、通信プロトコルのモデリングと検証に使用される:

- プロトコルの正当性検証
- デッドロックとライブロックの検出
- 性能評価

### 9.4 組み込みシステムとリアルタイムシステム

時間ペトリネットを用いて:

- タスクスケジューリングのモデル化
- タイミング制約の検証
- 最悪実行時間（WCET）の分析

### 9.5 交通管理システム

交通制御システムの最適化、信号機の同期、交通流の管理にペトリネットが活用されている。

### 9.6 医療システム

医療プロセスの効率化、患者フローのモデリング、医療ワークフローの最適化にペトリネットが応用されている。

### 9.7 ソフトウェアシステム

- **並行プログラムの検証**: マルチスレッドプログラムのデッドロック検出
- **分散システムの設計**: コンポーネント間の通信と同期
- **UMLとの統合**: UMLで表現しきれない動的振る舞いの可視化

## 10. ペトリネットの利点

### 10.1 視覚的表現

グラフィカルな表現により、システムの構造と動的振る舞いを直感的に理解できる。専門家でないステークホルダーとのコミュニケーションにも有効。

### 10.2 形式的意味論

数学的に厳密な意味論を持ち、曖昧性のない仕様を記述できる。形式的検証の基盤となる。

### 10.3 並行性の自然な表現

並行実行、同期、競合、因果関係を自然に表現できる。逐次モデルでは表現困難な並行システムの本質を捉える。

### 10.4 豊富な解析手法

- 到達可能性解析
- インバリアント解析
- 構造解析
- 性能評価

多様な解析手法により、システムの様々な性質を検証できる。

### 10.5 ツールサポート

CPN Tools、PIPE、PNMLフレームワークなど、多数のツールが利用可能。シミュレーション、検証、性能評価を支援する。

### 10.6 拡張性

色付きペトリネット、時間ペトリネット、確率的ペトリネットなど、様々な拡張により、複雑なシステムをモデル化できる。

## 11. ペトリネットの限界と課題

### 11.1 状態爆発問題

到達可能グラフのサイズが指数的に増加する状態爆発問題は、ペトリネット解析の主要な障害である。

**影響:**

- 大規模システムの完全な状態空間解析が困難
- メモリと計算時間の制約

**対策:**

- 部分的状態空間探索
- 記号的表現（Binary Decision Diagrams等）
- 構造解析手法（インバリアント、サイフォン）
- 抽象化とリダクション技術

### 11.2 表現力の限界

基本的なペトリネットでは、以下を表現することが困難:

- 複雑なデータ構造（拡張が必要：色付きペトリネット）
- 時間制約（拡張が必要：時間ペトリネット）
- 確率的振る舞い（拡張が必要：確率的ペトリネット）

### 11.3 解析の計算複雑性

多くの解析問題が計算論的に困難:

- 到達可能性問題: EXPSPACE
- サイフォン列挙: NP完全
- 活性判定: EXPSPACE（一般の場合）

### 11.4 モデル構築の難しさ

大規模で複雑なシステムのペトリネットモデルを構築することは、専門知識と経験を必要とする。

**課題:**

- 適切な抽象化レベルの選択
- モデルの検証（実システムとの対応）
- 保守性（システム変更時のモデル更新）

### 11.5 拡張の非決定可能性

多くの健全な拡張（データ構造、複雑な制御フロー）により、基本的な性質（健全性、活性等）が決定不可能になる。

## 12. ペトリネットと他の形式手法の比較

### 12.1 ペトリネット vs プロセス代数

**プロセス代数（CCS、CSP、ACP）:**

- **代数的表現**: テキストベース
- **合成性**: 高い
- **ツールサポート**: モデル検査器との統合

**ペトリネット:**

- **グラフィカル表現**: 視覚的
- **状態ベース**: 明示的な状態表現
- **リソースモデリング**: 自然

両者は相補的であり、変換が可能な場合も多い。

### 12.2 ペトリネット vs 状態機械

**状態機械（State Machine / Automaton）:**

- シンプルで理解しやすい
- 並行性の表現が困難

**ペトリネット:**

- 並行性を自然に表現
- より表現力が高いが複雑

### 12.3 ペトリネット vs UML

**UML（アクティビティ図、状態図）:**

- 業界標準
- 広く認知されている
- 形式的意味論が弱い

**ペトリネット:**

- 厳密な形式的意味論
- 強力な解析手法
- UMLと組み合わせて利用される場合も多い

## 13. 最新の研究動向

### 13.1 ペトリネットと機械学習

**仕様マイニング:**

イベントログから確率的ペトリネットを学習する手法が研究されている。

**プロセスマイニング:**

Wil van der Aalst らによるプロセスマイニング研究では、実際のイベントログからワークフローネットを発見・分析する技術が発展している。

### 13.2 高性能解析手法

**記号的検証:**

Binary Decision Diagrams (BDD)、Satisfiability Modulo Theories (SMT)ソルバーを用いた効率的な検証手法。

**並列・分散解析:**

マルチコアプロセッサやクラスタを活用した並列状態空間探索。

### 13.3 ペトリネットとブロックチェーン

スマートコントラクトのモデリングと検証にペトリネットを応用する研究が進んでいる。

### 13.4 量子ペトリネット

量子コンピューティングの振る舞いをモデル化するための量子ペトリネットの研究。

## 14. まとめ

ペトリネットは、1962年にCarl Adam Petriによって導入されて以来、並行・分散システムのモデリングと検証の基盤として発展してきた。その視覚的表現、形式的意味論、豊富な解析手法により、制御システム、ビジネスプロセス、ソフトウェアシステムなど多様な分野で活用されている。

**主要な特徴:**

- **視覚的モデリング**: グラフィカルな表現による直感的理解
- **並行性**: 並行実行、同期、競合の自然な表現
- **形式的検証**: 到達可能性、活性、有界性などの性質の厳密な解析
- **拡張性**: 色付き、時間、確率的など様々な拡張

**主要な応用:**

- ビジネスプロセスモデリングと検証
- 製造システムの最適化とデッドロック制御
- 並行ソフトウェアシステムの検証
- リアルタイムシステムの設計と性能評価

**課題と今後の展望:**

状態爆発問題や計算複雑性の課題は残るものの、記号的検証、抽象化技術、機械学習との統合により、ペトリネットの実用性は継続的に向上している。プロセスマイニング、ブロックチェーン、IoTなど新しい応用分野も開拓されており、ペトリネットは今後も並行・分散システムの仕様記述と検証の重要なツールであり続けるだろう。

## 参考文献・情報源

### 歴史と基礎理論
- [Petri net - Wikipedia](https://en.wikipedia.org/wiki/Petri_net)
- [ペトリネット - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%9A%E3%83%88%E3%83%AA%E3%83%8D%E3%83%83%E3%83%88)
- [Carl Adam Petri and Petri Nets - ResearchGate](https://www.researchgate.net/publication/229125009_Carl_Adam_Petri_and_Petri_Nets)
- [Half a century after Carl Adam Petri's Ph.D. thesis - ScienceDirect](https://www.sciencedirect.com/science/article/abs/pii/S1367578813000473)
- [Petri nets and Automatic Control: A historical perspective - ScienceDirect](https://www.sciencedirect.com/science/article/abs/pii/S1367578818300117)
- [Petri net - Scholarpedia](http://www.scholarpedia.org/article/Petri_net)

### 日本語教材
- [ペトリネット入門 - 太田淳](http://www.ist.aichi-pu.ac.jp/~ohta/introPN.pdf)
- [ペトリネット - 愛知県立大学](http://www.ist.aichi-pu.ac.jp/~ohta/intropn/node2.html)
- [ペトリネットの解析](http://www.ist.aichi-pu.ac.jp/~ohta/intropn/node3.html)
- [ペトリネット理論 - 平石邦彦](http://www.jaist.ac.jp/is/labs/hira-lab/old_home_page/Petrinet.pdf)
- [ペトリネット(Petri Net)の説明 - Qiita](https://qiita.com/lymansouka2017/items/22cf35b7a14ebcb7a263)
- [UMLで表現しきれない"動き"を、ペトリネットで可視化する | 豆蔵デベロッパーサイト](https://developer.mamezou-tech.com/blogs/2025/04/24/umlformat_petrinet/)

### 理論と性質
- [Petri Net - ScienceDirect Topics](https://www.sciencedirect.com/topics/computer-science/petri-net)
- [Introduction to Petri Nets - University of Ottawa](https://www.site.uottawa.ca/~bochmann/ELG7187C/CourseNotes/FormalModels/Petri-nets/index.html)
- [Petri Nets: Properties, Analysis and Applications - Tadao Murata](http://people.disim.univaq.it/adimarco/teaching/bioinfo15/paper.pdf)
- [Discrete Event Systems Petri Nets - ETH Zurich](https://disco.ethz.ch/courses/hs15/des/lectures/des_chapter9-4on1.pdf)

### 解析手法
- [State Space Analysis: Properties, Reachability Graph, and Coverability graph](http://cpntools.org/wp-content/uploads/2018/01/covgraph.pdf)
- [Analysis with reachability and coverability trees - EMU](https://opencourses.emu.edu.tr/pluginfile.php/53499/mod_resource/content/3/Analysis%20with%20reachability%20and%20coverability%20trees.pdf)
- [Petri Nets 1 - TU Munich](https://teaching.model.in.tum.de/2021ss/petri/material/petrinets.pdf)
- [Coverability and Extended Petri Nets - Leiden University](https://math.leidenuniv.nl/scripties/BachVandeNes.pdf)

### 色付きペトリネット（CPN）
- [Coloured Petri Nets: Modelling and Validation of Concurrent Systems | Springer](https://link.springer.com/book/10.1007/b95112)
- [CPN Tools – A tool for editing, simulating, and analyzing Colored Petri nets](https://cpntools.org/)
- [Colored Petri Nets – Communications of the ACM](https://cacm.acm.org/research/colored-petri-nets/)
- [Coloured Petri Nets and CPN Tools | Springer](https://link.springer.com/article/10.1007/s10009-007-0038-x)
- [Coloured Petri Nets - Aarhus University](https://cs.au.dk/cpnets/)

### 時間ペトリネット
- [Timed Petri Nets | IntechOpen](https://www.intechopen.com/chapters/38516)
- [Discrete time approach of time Petri nets for real-time systems analysis | IEEE](https://ieeexplore.ieee.org/document/997686/)
- [Timed Petri Nets for Modeling and Performance Evaluation | MDPI](https://www.mdpi.com/1996-1073/16/23/7690)
- [An automated qualitative analysis of real-time systems using Timed Petri net and SPIN](https://www.tandfonline.com/doi/full/10.1080/23311916.2024.2375100)
- [Time Petri nets | ITS Tools](https://lip6.github.io/ITSTools-web/tpn.html)

### 確率的ペトリネット
- [Stochastic Petri Net - ScienceDirect Topics](https://www.sciencedirect.com/topics/computer-science/stochastic-petri-net)
- [Stochastic Petri net - Wikipedia](https://en.wikipedia.org/wiki/Stochastic_Petri_net)
- [Introduction to Generalized Stochastic Petri Nets | Springer](https://link.springer.com/chapter/10.1007/978-3-540-72522-0_3)
- [Book on Generalized Stochastic Petri Nets](http://www.di.unito.it/~greatspn/GSPN-Wiley/)

### デッドロックと活性
- [Deadlock and Liveness Properties of Petri Nets | Springer](https://link.springer.com/chapter/10.1007/0-8176-4488-1_6)
- [Petri net modeling and deadlock analysis | ScienceDirect](https://www.sciencedirect.com/science/article/abs/pii/S0164121209003057)
- [Deadlock analysis and control based on Petri nets](https://journals.sagepub.com/doi/10.1177/1687814017693542)
- [Petri Nets: Theoretical Models and Analysis Methods for Concurrent Systems | Springer](https://link.springer.com/book/10.1007/978-981-19-6309-4)

### ワークフローネット
- [The Application of Petri Nets to Workflow Management - van der Aalst](https://users.cs.northwestern.edu/~robby/courses/395-495-2017-winter/Van%20Der%20Aalst%201998%20The%20Application%20of%20Petri%20Nets%20to%20Workflow%20Management.pdf)
- [Soundness of workflow nets: classification, decidability, and analysis | Formal Aspects of Computing](https://link.springer.com/article/10.1007/s00165-010-0161-4)
- [The complexity of soundness in workflow nets - ACM](https://dl.acm.org/doi/fullHtml/10.1145/3531130.3533341)
- [Verification of Workflow nets - ResearchGate](https://www.researchgate.net/publication/298226676_Verification_of_Workflow_nets)

### 応用事例
- [ビジネスプロセス モデリングのための基礎技術](https://enterprisezine.jp/article/detail/1493)
- [【中学生でもわかるIT用語】ペトリネットとは | 賢Blog](https://ken-enjoybusiness.com/petri-net/)
- [ハイブリッドペトリネットによる生産プロセスのモデリング | 琉球大学](https://iicc.skr.u-ryukyu.ac.jp/matching/seeds/communication/1547.php)
