# 安全性解析（HAZOP/FTA/FMEA）と仕様

## 1. 概要

安全性解析は、システムの潜在的な危険（ハザード）を特定し、リスクを評価・管理するための体系的な手法である。本文書では、主要な安全性解析手法であるHAZOP、FTA、FMEA、およびSTPAと、それらが仕様記述とどのように関連するかを調査する。

## 2. HAZOP（Hazard and Operability Study）

### 2.1 定義と目的

HAZOP（Hazard and Operability Study、危険性と操作性の研究）は、複雑なシステム（通常はプロセス設備）を構造化され体系的に調査し、人員、機器、または環境に対する危険や、操作効率に影響を与える可能性のある操作性の問題を特定する手法である[1][2]。

HAZOPは、Process Hazard Analysis（PHA）手法の1つであり、OSHAのプロセス安全管理（PSM）標準で認識されている[1]。複雑なプロセスにおけるハザードとリスクを特定、評価、制御するリスク管理の一形態である[1]。

### 2.2 方法論

**ノード分割**：
この技術は、プロセスの全体的な複雑な設計をノードと呼ばれるいくつかのより単純なセクションに分解し、それぞれを個別にレビューすることに基づいている[2]。

**多分野チーム**：
一連の会議中に、適切に経験豊富な多分野チームによって実施される[2]。

**構造化アプローチ**：
HAZOP技術は定性的であり、参加者の想像力を刺激して潜在的な危険と操作性の問題を特定することを目的としている[2]。標準化されたガイドワードプロンプトを各ノードのレビューに適用することで、レビュープロセスに構造と方向性が与えられる[2]。

### 2.3 ガイドワードとパラメータ

**ガイドワード**：
ガイドワードは、「no（なし）」、「more（多い）」、「less（少ない）」、「reverse（逆）」、「other than（以外）」など、特定の種類の逸脱を考慮するようチームに促すために慎重に選択された用語である[2]。

**プロセスパラメータ**：
プロセスパラメータには、流量、温度、圧力、レベル、組成、およびシステムの意図された動作を定義するその他の重要な変数が含まれる[2]。

### 2.4 チーム構成

多分野HAZOPチームは、チームリーダーと、専門分野に基づいてさまざまな視点を提供し協力してリスクの源泉と設計からの逸脱の可能性を実現できるメンバーで構成される[2]。HAZOPチームメンバーの例は、設計エンジニア、操作に非常に精通している人、および安全専門家である[2]。

### 2.5 産業応用

HAZOP研究は、化学製造、医薬品製造、石油・ガス処理、原子力発電などの高リスク産業で特に重要である[1]。

## 3. FTA（Fault Tree Analysis）

### 3.1 概要

故障の木解析（FTA）は、潜在的な望ましくない事象（事故）からトップイベントと呼ばれる開始点として、それが発生するすべての方法を決定するトップダウンアプローチの故障解析手法である[3][4]。

この解析方法は、主にシステムがどのように故障し得るかを理解し、リスクを低減する最良の方法を特定し、安全事故または特定のシステムレベル（機能的）故障の事象率を決定する（または感覚をつかむ）ために、安全工学と信頼性工学で使用される[3]。

### 3.2 安全要件における役割

考慮すべき安全要件は、FTAにおいてゲートとして扱われる[4]。FTAは、安全要件の確立において重要な役割を果たす[4]。演繹的方法として、自動車産業における機能安全に関するISO 26262の要件を満たす1つの方法であり、認識された標準と見なされている[4]。

### 3.3 産業標準と仕様

FTA方法論は、原子力発電産業向けのNRC NUREG–0492、NASAで使用するためのNUREG–0492の航空宇宙指向改訂版、民間航空宇宙向けのSAE ARP4761、軍事システム向けのMIL–HDBK–338など、いくつかの産業および政府標準で記述されている[4]。IEC標準IEC 61025は産業横断的な使用を意図しており、欧州規格EN 61025として採用されている[4]。

### 3.4 応用分野

FTAは、航空宇宙、原子力、化学およびプロセス、医薬品、石油化学、およびその他の高危険産業で使用されるが、社会サービスシステムの故障に関連するリスク要因の特定など、多様な分野でも使用される[4]。

### 3.5 特徴

FTAは、特定のインシデント（トップイベントと呼ばれる）の原因を演繹的推論を使用して特定するために使用される[7]。しかし、FTAは標準的なPHA方法とは本当には比較できない[7]。プロセスの完全なハザードシナリオのセットを特定するわけではない[7]。

## 4. FMEA（Failure Mode and Effects Analysis）

### 4.1 定義

FMEAは、システム内の潜在的な故障モードとその原因および影響を特定するために、できるだけ多くのコンポーネント、アセンブリ、サブシステムをレビューするプロセスである[5][6]。より具体的には、FMEAは、製品または製造または組み立てプロセス、製品、またはサービスの設計内に存在する可能性のある潜在的な故障を発見するための構造化されたアプローチである[6]。

### 4.2 歴史

FMEAは、設計、製造または組み立てプロセス、製品、またはサービスで可能な故障を体系的かつ段階的に特定し優先順位付けするアプローチとして、1940年代に米軍によって開発された[6]。

### 4.3 コアコンポーネント

FMEAは、以下を特定することに依存している[6]：
- **故障モード**：製品が故障する可能性のある方法の1つ
- **故障の影響**：特定の故障モードの結果
- **故障の原因**：観察された故障モードの可能な原因の1つ
- **故障モードの分析**：その頻度、深刻度、および検出の可能性

### 4.4 FMEAの種類

現在、2種類のFMEAがある：設計FMEA（DFMEA）とプロセスFMEA（PFMEA）[6]。

### 4.5 評価尺度

深刻度は通常、1から10のスケールで評価される：1は取るに足らないもので、10は壊滅的なものである[6]。さらに、RPN（Risk Priority Number）は、深刻度、発生、および検出の評価の単純な積である[6]。

### 4.6 目的と利点

FMEAの目的は、最も優先度が高いと見なされるものから始めて、故障を排除、削減、および/または緩和するためのアクションを取ることである[6]。

## 5. STPA（Systems-Theoretic Process Analysis）

### 5.1 概要

システム理論的プロセス解析（STPA）は、設計開発中に事故の潜在的な原因を分析し、安全リスクを排除または制御できるようにする反復的なハザード分析方法論である[8][9]。STPAは、安全でない制御アクションから生じる可能性のあるハザードを特定する方法である[9]。

### 5.2 理論的基盤

STAMPとSTPAの両方は、MITのNancy Leveson教授と彼女のチームによって開発された[8]。STAMPという用語は、2004年の論文「A New Accident Model for Engineering Safer Systems」で導入された[8]。

**開発者**：
システム理論的プロセス解析（STPA）は、安全工学の分野で研究を行ってきたMITの航空宇宙学科の教授であるNancy Leveson教授によって開発された[9]。

### 5.3 主要な利点

STPAは、組織的および社会的要因、人間の意思決定、ソフトウェア設計エラーを扱う際に特に有益であることがわかっている[9]。STPAは、エンジニアがシステム内のハザードを慎重かつ体系的に分析できるようにするシステム理論に基づく方法である[9]。

### 5.4 応用

STPAは、システムエンジニアリングのすべての段階をサポートでき、ソフトウェア、コンピュータ、および自動化、人間のオペレーターエラー/混乱、システムと機能間の予期しない相互作用、システム設計エラー、欠陥のある仮定、欠落または誤った要件によって引き起こされるハザードを予測および防止するために使用される[9]。

## 6. 安全性解析手法の比較

### 6.1 概要

HAZOPは最も一般的に使用されるプロセスハザード分析（PHA）方法である[7]。これら3つの方法は、安全性解析に対する異なるアプローチを表している[7]。

### 6.2 HAZOP

HAZOPは、システム開発の計画段階で一般的に使用される定性的技術である[7]。システムの設計仕様からの逸脱がどのように生じ得るかを分析することによってハザードを特定する[7]。5〜6人のアナリストの多分野チームが、通常リーダーによって率いられてHAZOP分析を実施する[7]。

### 6.3 FTA

FTAはトップダウンのハザード分析アプローチである[7]。演繹的アプローチであり、次のように繰り返し尋ねることによって実施される：これ（特定の望ましくない事象）はどのように発生し得るか、この事象の原因は何か[7]。

### 6.4 FMEA

FMEAの主な目的は、その安全性とパフォーマンスに影響を与える可能性のあるシステムまたは製品の初期設計プロセスにおける潜在的な問題を特定し、特定された潜在的な問題（故障モード）の影響を緩和または最小化するための対策を導入することである[7]。

### 6.5 FMEAとFTAの関係

FMEAは影響の単一の原因のみを分析することに制限されているため、FTAはFMEAの実行可能性を増強する[7]。FMEAはFTAを補完し、はるかに多くの故障モードと原因を特定できる[7]。

## 7. 安全性要件の仕様化

### 7.1 安全要件仕様（SRS）の概要

安全機能要件仕様（SFRS、SRSまたは安全要件仕様と呼ばれることもある）は、機械の安全制御の計画であり、安全ライフサイクルの第2段階である[10]。

### 7.2 機能要件

機能要件は、安全計装機能（SIF）が何をすることになっているかを扱い、何を感知するか、トリップポイントは何か、安全状態をもたらすために何を作動させるか、どれくらい速く動作する必要があるかを含む[10]。

### 7.3 設計との統合

SFRSは、安全機能を実行するために使用される入力、論理、および出力デバイス間の関係を特定し、保護装置およびその他のリスク低減措置の要件を定義する[10]。これには、論理、数学的関数、および必要な許可を含む、プロセス入力と出力間の機能的関係が含まれる[10]。

### 7.4 ライフサイクルにおける役割

SFRSドキュメントは、安全制御システム設計のフレームワークとして扱い、機械ビルダー/インテグレーターへの要件を定義するために使用し、また将来の機械検証への入力として機能させ、テスターがシステムがどのように機能することを意図されているかを正確に知ることができるようにする[10]。

## 8. 安全性仕様と機能仕様の関係

### 8.1 統合の必要性

安全要件仕様は、機能仕様の主要コンポーネントとして機能要件を包含し、安全機能が何を実行しなければならないか、およびそれらが詳細な機能的関係と要件を通じてどのように実行されなければならないかの両方を定義する[10]。

### 8.2 安全性と機能性のバランス

安全性要件と機能要件の間には密接な関係があり、安全性要件は機能要件の一部として、またはそれを補完するものとして統合される必要がある。

## 9. 安全性分析から仕様への変換

### 9.1 形式手法との統合

**ForMoSAアプローチ**：
ForMoSAアプローチは、エンジニアリング実践、形式手法、数学の最良のものを組み合わせる：伝統的な安全性分析、時相論理と検証、統計と最適化[11]。

**モデルベース安全性分析**：
モデルベース安全性分析は、伝統的な開発活動に加えて安全性分析活動を組み込むためにモデルベース開発を拡張することを提案する[11]。モデルベース安全性分析をサポートするために、伝統的な「V」プロセスが修正され、安全性分析活動が形式的なシステムおよび障害モデルを中心に配置される[11]。

### 9.2 モデル変換と仕様

最近の研究は、システム要件をモデルベース設計の活動と結びつけることによって、形式手法を使用したシステム安全性の分析を最終的に自動化することを目指している[11]。1つのアプローチは、Architecture Analysis & Design Language（AADL）のモデルをAltarica形式モデリング言語に変換することを含む[11]。

**モデル駆動開発アプローチ**：
モデル駆動開発アプローチは、安全性分析（故障モード影響および致命度分析と故障の木解析）とソフトウェア開発言語の間のギャップを埋めるためにプラットフォーム独立言語を使用する[11]。

### 9.3 形式的安全性仕様手法

形式モデルと工学からの安全性分析技術を組み合わせることは、システムモデルを記述し、安全性プロパティを定式化および検証するために形式仕様を使用する[11]。AADLe言語の拡張と形式分析のためのツールサポートにより、名目モデルを障害定義で拡張でき、単一の共通モデルから安全性分析とシステム実装を駆動できる[11]。

### 9.4 安全性要件生成

ハザード分析方法の安全性要件生成能力の比較研究では、さまざまなハザード分析手法（HAZOP、FTA、FMEA、STPA）が安全性要件をどの程度効果的に生成できるかが評価されている[12]。

## 10. IEC 61508と機能安全

### 10.1 概要

IEC 61508は、電気的、電子的、またはプログラマブル電子（E/E/PE）システムおよび製品のライフサイクルのための機能安全標準を提供する[13][14]。機能安全は、システムまたは機器がその入力に対して正しく動作することに依存する全体的な安全性の一部として定義される[13]。

### 10.2 適用範囲

この標準は、例えばセンサー、制御ロジック、アクチュエータ、マイクロプロセッサを含む、自動安全機能を実行するデバイスまたはシステムの部分を扱う[13]。標準は、概念とリスク評価から設計、実装、運用、保守、廃止に至るまで、安全ライフサイクル全体をカバーする[13]。

### 10.3 リスクベースアプローチ

IEC 61508はリスクベースの標準であり、危険な運用状況のリスクが定性的に評価され、体系的な故障を回避または制御し、ランダムなハードウェア故障を検出または制御するか、その影響を緩和するための安全対策が定義される[13]。

### 10.4 安全度水準（SIL）

IEC 61508シリーズは、安全機能の4つのレベルの安全性パフォーマンスを指定し、安全度水準1（SIL1）が最低レベルで、安全度水準4（SIL4）が最高レベルである[13][14]。機能の適切なSILは、故障の可能性、潜在的な結果、およびこれらのリスクを緩和する必要性を考慮して、ハザードとリスク分析を通じて決定される[14]。

### 10.5 要件と仕様

要件には、適切な品質管理、管理プロセス、検証および妥当性確認技術、故障分析などが含まれ、最終システムが必要なSILを達成したことを合理的に正当化できるようにする[14]。安全要件仕様（SRS）レビューは、安全機能とターゲットSILが明確に定義されていることを確認し、開発およびテストプロセス全体を通じてすべての安全要件のトレーサビリティを検証する[14]。

### 10.6 標準構造

標準は7つの部分から構成される：機能安全の概念への導入、電気/電子/プログラマブル電子安全関連システムの要件、ソフトウェア要件、定義と略語、安全度水準の決定方法の例、適用に関するガイドライン、技術と対策の概観[14]。

## 11. まとめ

### 11.1 安全性解析手法の特徴

各安全性解析手法には独自の特徴がある：

- **HAZOP**：多分野チームによる構造化された定性的分析、ガイドワードを使用した逸脱の体系的な探索
- **FTA**：トップダウンの演繹的アプローチ、特定のトップイベントの原因を分析
- **FMEA**：ボトムアップのアプローチ、コンポーネントレベルの故障モードとその影響を分析
- **STPA**：システム理論に基づく、安全でない制御アクションに焦点

### 11.2 仕様との関係

安全性解析と仕様の関係は多面的である：

1. **安全性要件の導出**：安全性解析から安全性要件が導出され、仕様に組み込まれる
2. **検証の基盤**：安全性仕様はシステム検証の基盤を提供する
3. **トレーサビリティ**：ハザードから要件、設計、実装、テストへのトレーサビリティが重要
4. **形式手法との統合**：モデルベース安全性分析により、安全性分析と形式仕様を統合

### 11.3 実践的含意

- 適切な安全性解析手法の選択は、システムの性質、開発段階、リスクプロファイルに依存する
- 複数の手法を組み合わせることで、より包括的な安全性分析が可能
- IEC 61508などの標準は、安全性要件の仕様化と検証のためのフレームワークを提供
- モデルベースアプローチにより、安全性分析と仕様、実装の統合が促進される

### 11.4 今後の方向性

- 形式手法と安全性解析のさらなる統合
- AIと機械学習を用いた安全性解析の自動化
- デジタルツインと安全性シミュレーション
- サイバーフィジカルシステムのための新しい安全性解析手法

安全性解析は、仕様記述の重要な入力であり、システムの安全性を確保するための要件を体系的に導出する手段を提供する。形式手法との統合により、安全性要件の厳密な仕様化と検証が可能になり、より信頼性の高い安全クリティカルシステムの開発に貢献する。

## 参考文献

1. [What is HAZOP? Hazard and Operability Study | SafetyCulture](https://safetyculture.com/topics/hazop)
2. [Hazard and operability study - Wikipedia](https://en.wikipedia.org/wiki/Hazard_and_operability_study)
3. [Fault tree analysis - Wikipedia](https://en.wikipedia.org/wiki/Fault_tree_analysis)
4. [Fault Tree Analysis (FTA) | DAU](https://www.dau.edu/acquipedia-article/fault-tree-analysis-fta)
5. [Failure mode and effects analysis - Wikipedia](https://en.wikipedia.org/wiki/Failure_mode_and_effects_analysis)
6. [What is FMEA? Failure Mode & Effects Analysis | ASQ](https://asq.org/quality-resources/fmea)
7. [COMPARISON OF PROCESS HAZARD ANALYSIS (PHA) METHODS](https://www.primatech.com/images/docs/comparison-of-pha-methods.pdf)
8. [Understanding STAMP, STPA, and CAST: Safety Engineering](https://www.ul.com/sis/blog/introduction-to-stamp-stpa-and-cast)
9. [Systems-Theoretic Process Analysis - DTIC](https://apps.dtic.mil/sti/trecms/pdf/AD1109554.pdf)
10. [Safety Requirements Specification in Functional Safety - Cenosco](https://cenosco.com/insights/safety-requirements-specification-in-functional-safety)
11. [Combining Formal Methods and Safety Analysis – The ForMoSA Approach](https://link.springer.com/chapter/10.1007/978-3-540-27863-4_26)
12. [A comparison of hazard analysis methods capability for safety requirements generation](https://www.researchgate.net/publication/350113952_A_comparison_of_hazard_analysis_methods_capability_for_safety_requirements_generation)
13. [IEC 61508 Functional Safety Standard | TÜV SÜD](https://www.tuvsud.com/en-us/services/functional-safety/iec-61508)
14. [IEC 61508 - Wikipedia](https://en.wikipedia.org/wiki/IEC_61508)
