# アーキテクチャ記述言語（ADL）

## 1. 概要

アーキテクチャ記述言語（Architecture Description Languages, ADL）は、ソフトウェア集約型システムのアーキテクチャを表現するための形式言語である[1]。ADLは、アーキテクチャの形式的表現に対する言語学的アプローチから生まれ、その欠点に対処している[1]。

## 2. ADLの基本概念

### 2.1 コアコンポーネント

ADLは、コンポーネント、コネクタ、およびそれらの構成を明示的にモデル化する必要がある[1][2]。より具体的には：

**コンポーネント（Components）**：
コンポーネントは、計算とデータストアの単位である[1][2]。典型的な例には、クライアント、サーバー、フィルタ、オブジェクト、ブラックボード、データベースが含まれる[1]。コンポーネントは、必須の一意の名前によって識別され、提供または要求されるポート（またはインターフェース）によって記述される[3]。

**コネクタ（Connectors）**：
コネクタは、コンポーネント間の相互作用を表現する[1][2]。実行時の観点から、コネクタはコンポーネント間の通信と調整活動を仲介する[1]。コネクタは、コンポーネント間の相互作用とこれらの相互作用を管理する規則を記述する[1]。

**構成（Configurations）**：
構成は、アーキテクチャ構造を記述するコンポーネントとコネクタの接続されたグラフである[1][2]。構成は、コンポーネントとコネクタのグラフを表現し、コンポーネントがコネクタでどのように接続されるかを指定する[3]。

### 2.2 形式的仕様の側面

ADLの目的は、ソフトウェアとハードウェアのアーキテクチャを形式的に記述することである[2]。通常、ADLは、コンポーネント、それらのインターフェース、それらの構造、それらの相互作用（データフローと制御フローの構造）、およびハードウェアシステムへのマッピングを記述する[2]。

実行時の観点から、アーキテクチャ記述は、コンポーネントとコネクタ、およびそれらがどのように構成されるかの観点で、アーキテクチャの形式的仕様を提供する必要がある[2]。

### 2.3 主要な機能

洗練されたADLは、アーキテクチャ設計決定の早期分析と実現可能性テストを可能にする[1]。ADLは、構造的および選択された動作の側面の記述をサポートし、コンポーネントとコネクタの抽象化レベルでシステムを記述する[1]。それらは、選択された品質属性のアーキテクチャ評価を可能にし、アーキテクチャモデルは完全性と一貫性について分析できる[1]。

## 3. 主要なADL

### 3.1 AADL（Architecture Analysis & Design Language）

#### 概要

Architecture Analysis & Design Language（AADL）は、SAEによって標準化されたアーキテクチャ記述言語である[4]。AADLは、組み込みリアルタイムシステムのソフトウェアとハードウェアアーキテクチャをモデル化するために使用され、組み込みドメインへの重点により、AADLにはソフトウェアコンポーネントとハードウェアコンポーネントの両方をモデル化するための構造が含まれている[4]。

#### 形式手法との統合

アーキテクチャ記述言語は、形式手法とエンジニアリングモデルをソフトウェアおよびシステムアーキテクチャの分析に組み込むための重要な機会を提供し、組み込みリアルタイム安全クリティカルシステムのための標準が開発されており、ハードウェアとソフトウェアからのシステムの構成の影響を分析するためのさまざまな形式的アプローチの使用をサポートする[5]。

AADLは、組み込みリアルタイムシステムのアーキテクチャを記述および分析するために広く使用されている標準化されたモデリング言語であり、航空宇宙、航空電子工学、自動車工学を含む産業における安全クリティカルアプリケーションの機能的動作とタイミング制約や堅牢性などの非機能特性の両方を指定するための形式的フレームワークを提供する[5]。

#### 高度な形式検証技術

現代の研究は、形式手法を使用した高レベルAADLモデルから実行可能な成果物への自動変換に焦点を当てており、抽象状態機械ベースのツールセットを活用して、段階的なシステム仕様から検証されたC++実装への移行の実現可能性を実証するアプローチが含まれている[5]。

#### 分析能力

その後、アーキテクチャモデルを設計ドキュメントとして、スケジューラビリティやフロー制御などの分析、またはコード生成に使用できる[5]。

### 3.2 Wright

#### 概要

Wrightは、カーネギーメロン大学で開発されたアーキテクチャ記述言語であり、コンポーネント、コネクタ、役割、ポートの観点でソフトウェアアーキテクチャを形式化する[6]。

#### CSPにおけるWright

個々のコンポーネントの異なるポートの動的動作は、Communicating Sequential Processes（CSP）プロセス代数を使用して記述される[6]。コネクタを介して相互作用する異なるコンポーネントが取ることができる役割も、CSPを使用して記述される[6]。

#### 形式的仕様と分析

動作記述の形式的性質により、ポート/役割の互換性と全体的なシステムの一貫性の自動チェックを実行できる[6]。Wrightは、ポートプロトコルと同じ方法で各役割の相互作用プロトコルのCSP仕様をサポートし、接続されたポートと役割の互換性分析を可能にする[6]。

#### 主要な貢献者

Wrightは、主にRobert AllenとDavid Garlanによって開発された[6]。

CSPを使用した形式的基盤により、Wrightは厳密なアーキテクチャ検証を提供でき、複雑なシステムの動作を分析し、コンポーネントとコネクタが適切に相互作用できることを保証するのに特に適している[6]。

### 3.3 Darwin

#### 概要

Darwinは、ソフトウェア工学の文脈で使用できるアーキテクチャ記述言語（ADL）であり、コンポーネント、それらのインターフェース、およびコンポーネント間のバインディングの観点からソフトウェアの一部の構成を記述する[7]。

#### 動的アーキテクチャ再構成

Darwinは、相互接続されたコンポーネントの階層的構成を定義するために使用できる宣言的バインディング言語であり、分散はシステム構造に対して直交的に扱われる[7]。言語は、実行中に進化する可能性のある静的構造と動的構造の両方の仕様をサポートする[7]。

Darwinは、動的アーキテクチャ記述への2つの主要なアプローチをサポートする：サービスのユーザーがそのサービスにアクセスしようとするまでサービスを提供するコンポーネントがインスタンス化されない遅延インスタンス化と、任意の方法で進化できる構造が定義される直接動的インスタンス化[7]。

#### 形式的基盤

Darwinは、分散システム構造を記述するために使用される言語であり、π-計算でその機能の操作的意味論が提示されている[7]。Darwin言語に存在するコンポーネントは、PI-計算によってモデル化される[7]。

#### 制限

Darwinは、ADLに期待されるすべての機能を持ち、動的ソフトウェアアーキテクチャでより使いやすくなっている[7]。しかし、Darwinなどの言語に見られるように、実行時の動的操作と再構成は、しばしば対処されないままである[7]。

### 3.4 Rapide

#### 概要

Rapideは、イベントベースのアーキテクチャ定義言語である[8]。Rapideは、システムアーキテクチャの動作を定義およびシミュレートするための並行イベントベースのシミュレーション言語である[8]。

#### コア概念

言語は、因果関係のあるイベントに基づくセマンティクスを持ち、Rapideのモデルのシミュレーションは、イベントパターン制約を使用して正確性をチェックできる因果イベント履歴を生成する[8]。Rapideは、分散した時間に敏感なシステムの新しいイベントベースの実行モデル—「タイムドポセットモデル」—を採用している[8]。因果履歴を持つイベントのセットは、ポセット（部分順序イベントセット）と呼ばれる[8]。

#### 主要な特徴

アーキテクチャ定義言語は、イベントのパターンの観点からそれらの同期および通信の相互接続を定義することによって、コンポーネントインターフェースからシステムを構成するための実行可能な機能を提供し、非常に大きな、場合によっては動的な、アーキテクチャを定義するための強力な新しい構造を提供する[8]。

制約言語は、タイミング要件を含む、分散システムの動作の抽象的仕様のための構造を提供する[8]。

#### ツールと分析

Rapideのモデルのシミュレーションは、Rapideツールセットによって表示および分析できる[8]。Rapideサポートツールには、アーキテクチャ間の一貫性分析をサポートする比較シミュレーションツールが含まれ、実際のシステムを実行して形式的参照アーキテクチャとの適合性をテストできるようにする[8]。

### 3.5 ACME

#### 概要

ACMEは、アーキテクチャ設計ツールの共通の交換フォーマットとして、および/または新しいアーキテクチャ設計および分析ツールを開発するための基盤として使用できる、シンプルで汎用的なソフトウェアアーキテクチャ記述言語（ADL）である[9]。

#### 主要な目的

ACMEは、アーキテクチャ設計のための汎用的な交換フォーマットを提供することにより、アーキテクチャ交換を提供し、アーキテクチャツール開発者が他の補完的なツールと簡単にツールを統合できるようにする[9]。

#### コア機能

ACMEは、アーキテクチャ設計ツールの共通の交換フォーマットとしてソフトウェアアーキテクチャコミュニティの共同努力として開発され、アーキテクチャを特徴付けるための構造的フレームワークと、追加のADL固有の情報のための注釈機能を提供する[9]。

#### 言語要素

ACMEは、アーキテクチャ表現のための7種類のエンティティのコアオントロジーに基づいて構築されている：コンポーネント、コネクタ、システム、ポート、役割、表現、rep-maps[9]。アーキテクチャ記述の最も基本的な要素は、コンポーネント、コネクタ、システムである[9]。コンポーネントは、システムの主要な計算要素とデータストアを表し、コネクタはコンポーネント間の相互作用を表す[9]。

#### 開発

ACMEの主要な言語設計とツール開発作業は、カーネギーメロン大学のABLEグループと、USCの情報科学研究所のDave Wileによって行われた[9]。

### 3.6 xADL

#### 概要

xADL 2.0は、カリフォルニア大学アーバイン校によって開発されたソフトウェアシステムのアーキテクチャをモデル化するためのソフトウェアアーキテクチャ記述言語（ADL）である[10]。xADLは、アーキテクチャ中心のツール統合をサポートするために開発された、ベンダー中立、ADL中立の交換フォーマットである[10]。

#### 技術的基盤

xADL 2.0は、一連のXMLスキーマとして定義されており、従来のADLと区別される[10]。従来のADLは、通常、小さなモデリング構造のセットを非常にうまくサポートするが、他のものには不十分に適応する[10]。XMLは、ソフトウェアアーキテクチャのための拡張可能なモデリング言語を開発するための理想的なプラットフォームを提供する[10]。

#### 主要な特徴と拡張性

xADLは、XMLとXMLスキーマによって提供される拡張メカニズムを活用して、ADLを形成するために構成されるモジュールにADL機能をカプセル化する[10]。xADL 2.0は、実行時と設計時のモデリング、アーキテクチャ構成管理、およびモデルベースのシステムインスタンス化をサポートする[10]。

xADLは、多くのアーキテクチャドメインを表現するために使用でき、新しいアーキテクチャドメインが来た場合、xADLのコアをそのドメインに固有の他のスキーマで拡張することによって、そのドメインを記述できるようになる[10]。

#### 開発コンテキスト

ArchStudio 2.0統合開発環境（IDE）内でアーキテクチャ中心のツール統合をサポートするために、XMLが進行中の共有アーキテクチャを表現するために採用され、その結果、C2スタイルに固有の語彙であるxC2とともにxADLが開発された[10]。

#### ツールサポート

xADL 2.0には、xADL 2.0ドキュメントの作成、操作、および共有をサポートする拡張可能なインフラストラクチャツールのセットがある[10]。

## 4. アーキテクチャスタイル

### 4.1 定義と重要性

アーキテクチャ記述言語（ADL）は、コンポーネント、それらの相互作用を管理するメカニズム、およびそれらがどのように一緒に構成されるかの観点で、ソフトウェア集約型システムのアーキテクチャを表現するために設計された形式言語である[3]。

より高レベルの概念には、アーキテクチャパターン（再利用可能な抽象構成）やアーキテクチャファミリーまたはスタイル（固定タイプのコンポーネント、コネクタ、バインディングに構成を制限する）が含まれる[3]。

### 4.2 パイプ・フィルタスタイルの例

システムは、フィルタコンポーネントタイプ、パイプコネクタタイプ、および入出力ポートタイプ（InputPort/OutputPort）で構成される設計語彙を提供するパイプ・フィルタスタイルで記述される[3]。

### 4.3 構成

構成は、コンポーネントとコネクタのグラフを表現する[3]。構成は、コンポーネントがコネクタでどのように接続されるかを指定する[3]。

## 5. コネクタの形式化

### 5.1 コネクタの役割

アーキテクチャコネクタは、主にコンポーネント間の相互作用をモデル化するために使用され、コンポーネントの通信と調整を個別に指定する[3]。

### 5.2 明示的な接続

アーキテクチャ構成では、コンポーネントポートとコネクタ役割の明示的な接続が必要である[3]。

## 6. コンポーネントとポートの概念

### 6.1 コンポーネント

調査されたすべてのADLがコンポーネントをモデル化しており、ACME、Aesop、C2、Darwin、SADL、UniCon、Wrightなどの言語は、それらを単にコンポーネントと呼んでいる[3]。コンポーネントは、必須の一意の名前によって識別され、ポート（またはインターフェース）によって記述され、提供または要求される可能性がある[3]。

### 6.2 ポート

ポートは、コンポーネントが外部と相互作用するためのインターフェースポイントを定義する。

## 7. ADLと仕様の関係

### 7.1 形式的仕様としてのADL

ADLは、システムアーキテクチャの形式的仕様を提供する。これにより、アーキテクチャの分析、検証、シミュレーションが可能になる。

### 7.2 仕様の階層化

ADLによって、システム仕様は以下のように階層化される：

1. **システムレベル**：全体的なシステム構造とコンポーネント間の関係
2. **コンポーネントレベル**：個々のコンポーネントの仕様とインターフェース
3. **コネクタレベル**：コンポーネント間の相互作用プロトコル

### 7.3 分析と検証

ADLによる形式的仕様により、以下が可能になる：
- アーキテクチャの完全性と一貫性のチェック
- 品質属性（パフォーマンス、信頼性など）の分析
- コンポーネントとコネクタの互換性検証
- アーキテクチャのシミュレーション

## 8. ADLによるシステム仕様の階層化

### 8.1 階層的構成

ADLは、システムの階層的構成をサポートする：
- サブシステムをコンポーネントとして表現
- コンポーネントの内部構造を再帰的に記述
- 異なる抽象化レベルでの仕様

### 8.2 リファインメント

高レベルのアーキテクチャ仕様から、より詳細な実装仕様へのリファインメントをサポートする。

## 9. ADLの限界と現状

### 9.1 主要な制限と課題

ADLは、制限的な性質、複数のビューのサポートの欠如、不十分なツールサポート、汎用的な性質、ドメイン固有の概念の欠如など、いくつかの重要な制限に直面している[11]。

2013年の研究では、実務者は使用しているADLの設計機能に全般的に満足していたが、いくつかの主要な懸念事項があったことが判明した：分析機能と追加機能特性を定義する能力が欠けていた；実際に使用されているものは、学術研究ではなく主に産業開発から生まれていた；より多くの形式性とより良い使いやすさが必要だった[11]。

ADLベースのアーキテクチャモデルの作成は困難であり、特定の専門知識を持つ技術的利害関係者を必要とする可能性があり、これが限られた採用に寄与している可能性がある[11]。

### 9.2 採用と実践的課題

動的でモバイルなアーキテクチャの仕様を可能にすることは、アーキテクチャ記述言語（ADL）にとって大きな課題である[11]。

既存のADLのほとんどは実行時レベルから切り離されているため、アーキテクチャと実装の間のアーキテクチャのミスマッチと不一致が生じる[11]。

研究コミュニティでは、ADLとは何か、アーキテクチャのどの側面をADLでモデル化すべきか、いくつかの可能なADLのうちどれが特定の問題に最も適しているかについて、ほとんどコンセンサスがない[11]。

### 9.3 歴史的問題

アーキテクチャ記述が不正確な場合、アーキテクチャの一貫性を分析したり、その非自明な特性を決定したりすることが不可能な場合がある[11]。

これらの課題は、主流のソフトウェア開発におけるADLの広範な採用に総合的に影響を与えている[11]。

### 9.4 現在の状況

ADLは、特に安全クリティカルシステムや大規模な分散システムにおいて、研究と実践の両方で使用され続けているが、以下の課題が残っている：

- **ツールサポートの改善**：より使いやすく統合されたツールの必要性
- **実装とのギャップ**：アーキテクチャモデルと実装コードの同期
- **動的性のサポート**：実行時の再構成とモバイルシステムへの対応
- **ドメイン固有性**：特定のドメインに特化したADLの開発
- **標準化**：ADL間の相互運用性と標準化

## 10. まとめ

### 10.1 ADLの重要性

アーキテクチャ記述言語は、ソフトウェアシステムのアーキテクチャを形式的に記述し、分析するための強力なツールである。コンポーネント、コネクタ、構成という明確な概念により、システムの構造と動作を厳密に定義できる。

### 10.2 主要なADLの特徴

- **AADL**：組み込みリアルタイムシステム、形式手法との統合
- **Wright**：CSPによるコネクタの形式化、互換性分析
- **Darwin**：動的再構成、π-計算による意味論
- **Rapide**：イベントベースシミュレーション、因果関係分析
- **ACME**：汎用交換フォーマット、ツール統合
- **xADL**：XML基盤、高い拡張性

### 10.3 形式手法との関係

ADLは、形式手法をソフトウェアアーキテクチャ設計に組み込むための重要な手段である。CSP、π-計算、イベントベースモデルなどの形式的基盤により、アーキテクチャの厳密な分析と検証が可能になる。

### 10.4 実践的価値と課題

ADLは、以下の実践的価値を提供する：
- 早期のアーキテクチャ分析と検証
- ステークホルダー間のコミュニケーション支援
- ツールによる自動分析
- ドキュメントとしての役割

しかし、以下の課題も残されている：
- 学習曲線とツールサポート
- 実装とのギャップ
- 動的性とモビリティのサポート
- 広範な採用の欠如

### 10.5 今後の方向性

- **実装とのシームレスな統合**：モデル駆動開発との連携強化
- **動的アーキテクチャのサポート強化**：実行時再構成の形式化
- **ドメイン固有ADLの発展**：特定領域に特化した言語の開発
- **AIと機械学習の活用**：アーキテクチャ分析の自動化
- **クラウドとマイクロサービスへの対応**：現代的なアーキテクチャパターンのサポート

ADLは、ソフトウェアアーキテクチャの形式的記述と分析において重要な役割を果たし続けるが、実践での広範な採用には、ツールサポートの改善と実装とのギャップの解消が必要である。

## 参考文献

1. [Architecture description language - Wikipedia](https://en.wikipedia.org/wiki/Architecture_description_language)
2. [Architecture Description Language - CIO Wiki](https://cio-wiki.org/wiki/Architecture_Description_Language_(ADL))
3. [A Classification and Comparison Framework for ADLs](https://ics.uci.edu/~taylor/documents/2000-ADLs-TSE.pdf)
4. [Architecture Analysis & Design Language - Wikipedia](https://en.wikipedia.org/wiki/Architecture_Analysis_&_Design_Language)
5. [Architecture Analysis and Design Language (AADL) - SEI CMU](https://www.sei.cmu.edu/projects/architecture-analysis-and-design-language-aadl/)
6. [Wright (ADL) - Wikipedia](https://en.wikipedia.org/wiki/Wright_(ADL))
7. [Darwin (ADL) - Wikipedia](https://en.wikipedia.org/wiki/Darwin_(ADL))
8. [Rapide: A language and toolset for causal event modelling](https://www.researchgate.net/publication/227014536_Rapide_A_language_and_toolset_for_causal_event_modelling_of_distributed_system_architectures)
9. [Acme - The Acme Architectural Description Language](https://www.cs.cmu.edu/~acme/)
10. [xADL 2.0: A Highly Extensible Architecture Description Language](https://isr.uci.edu/projects/archstudio-4/www/xarchuci/index.html)
11. [Investigating Architecture Description Languages (ADLs)](https://www.diva-portal.org/smash/get/diva2:699757/FULLTEXT01.pdf)
