# 航空ソフトウェアの形式手法（DO-178C）

## 1. 概要

航空ソフトウェアは、最も高い安全性と信頼性が求められる領域の1つである。DO-178Cは、航空機搭載システムおよび機器の認証におけるソフトウェアの考慮事項を定めた主要文書であり、FAA、EASA、Transport Canadaなどの認証当局がすべての商用ソフトウェアベース航空システムを承認する際の基準となっている[1][2]。

## 2. DO-178C

### 2.1 概要と歴史

DO-178C（Software Considerations in Airborne Systems and Equipment Certification、航空機搭載システムおよび機器の認証におけるソフトウェアの考慮事項）は、2011年11月に完成し、2011年12月にRTCAによって承認され、2012年1月に販売および使用が可能になった[1][2]。

### 2.2 技術補足書

DO-178Cは、特定の技術の文脈においてDO-178Cの活動と目的を解釈するための3つの技術補足書を導入した[1]：

1. **DO-331**：モデルベース開発および検証（Model Based Development and Verification）
2. **DO-332**：オブジェクト指向技術および関連技術（Object Oriented Technology and related technologies）
3. **DO-333**：形式手法（Formal Methods）

その他の補足書として、ソフトウェアツール適格性認定に関する考慮事項も含まれる[1]。

### 2.3 2025年の動向

標準化委員会は、既存のテキストを明確化することと、人工知能（AI）などの新しく登場する技術に取り組むことの両方に焦点を当てている[1]。この作業は、将来的に新しいまたは修正された標準につながる可能性がある[1]。

また、Ansys SCADE 2025 R2とAnsys Scade One 2025 R2は、生産性を向上させ、認証を合理化するために設計された多くの改善をもたらす[1]。

## 3. DO-333（形式手法補足書）

### 3.1 概要

DO-333（Formal Methods Supplement to DO-178C and DO-278A）は、航空機搭載および地上ベースの航空ソフトウェアにおける形式手法の使用を管理する118ページのガイドラインである[3]。RTCA（Radio Technical Commission for Aeronautics）がEUROCAE（European Organization for Civil Aviation Equipment）と協力して開発した[3]。

### 3.2 目的と範囲

DO-333は、DO-178C標準の補足であり、航空機搭載ソフトウェア開発プロセスのレビューと分析における形式手法の適用を指導することに専念している[3][4]。DO-333の主な目標は、開発者、認証当局、およびその他の利害関係者が、形式手法の使用とそれらがどのように既存のソフトウェア開発プロセスに統合できるかを理解するのを支援することである[4]。

### 3.3 主要な側面

DO-333は、ソフトウェアライフサイクルの一部として形式手法が使用される場合に、DO-178Cの検証目的、活動、説明テキスト、およびソフトウェアライフサイクルデータをどのように扱うべきかを記述するために使用される[3][4]。

DO-333は、要件分析、設計、実装、検証など、ソフトウェア開発プロセスのさまざまな段階に形式手法がどのように適用できるかを説明し、各段階で形式手法を使用することの利点と限界を概説している[4]。

### 3.4 カバーされる形式手法

共通の航空電子工学の例に対する認証目的を満たすために異なるクラスの形式手法の使用を記述するケーススタディは、定理証明（theorem proving）、モデル検査（model checking）、および抽象解釈（abstract interpretation）の使用を示している[3]。

## 4. 設計保証レベル（DAL A-E）

### 4.1 概要

DO-178Cは、DAL AからDAL Eまでラベル付けされた5つの異なる設計保証レベル（DAL）を定義している[5][6]。これらのレベルは、ソフトウェアの故障が航空機とその乗員に与える潜在的な影響に基づいて割り当てられる[5]。

### 4.2 5つのレベル

#### DAL A（最高）

設計保証レベルA（DAL-A）は、航空機搭載ソフトウェアに適用できる最高レベルの設計保証であり、ソフトウェアの故障または誤動作が航空機の壊滅的な故障に寄与する可能性がある場合に適用される[5][6]。フライバイワイヤシステムなどの飛行制御ソフトウェアは、故障が航空機の制御の完全な喪失につながる可能性があるため、DAL Aに分類される[6]。

#### DAL B

危険と分類された故障条件は、深刻な負傷、航空機の安全マージンの大幅な低下、または過度の乗員の作業負荷につながる可能性がある[5]。

#### DAL C

故障が大きな故障条件につながる可能性があり、航空機の運用能力に影響を与え、乗員に不快感や軽傷をもたらす可能性がある[5]。要件には、レベルAおよびBと比較して包括性の低い検証活動が含まれるが、ソフトウェアが意図どおりに動作することを保証するために、依然として重要な保証が必要である[5]。

#### DAL D

故障が軽微な故障条件につながる可能性があり、航空機の運用能力にわずかに影響を与えるが、安全性を大幅に低下させることはない[5]。検証および妥当性確認の取り組みは、より高い重要度レベルと比較して減少するが、ソフトウェアが航空機の運用または安全性に悪影響を与えないことを保証する必要がある[5]。

#### DAL E（最低）

故障が航空機の運用能力または安全性に影響を与えない[5]。最も厳格性の低いレベルであるレベルEソフトウェアは、主にソフトウェアがより高い重要度のソフトウェアまたは航空機の運用に影響を与えないことを保証するために、最小限の検証および妥当性確認を必要とする[5]。

### 4.3 主要原則

設計保証レベル（DAL）は、航空機の安全性への貢献に基づいて、設計保証プロセスによって適用されるべき厳密さの量を定義する[6]。DALが高いほど、ソフトウェアの故障または誤動作の結果がより深刻であるため、設計保証プロセスの一部として実行および満たされなければならない活動と目的が多くなる[6]。

## 5. Airbus/Boeingでの形式手法活用

### 5.1 Airbusのリーダーシップ

2001年以来、Airbusは、航空電子工学ソフトウェア製品の開発プロセスにいくつかのツールサポートされた形式検証技術を統合してきた[7][8]。形式検証技術の使用は、DO-178Bの目的に準拠する必要があり、Airbusはこの領域のパイオニアである[7]。

### 5.2 使用される形式検証技術

技術は形式的であり、通常、抽象解釈ベースの静的解析、定理証明、およびモデル検査として分類される[7]。Airbusは、航空電子工学ソフトウェア製品の開発プロセスにいくつかの抽象解釈ベースの解析ツールを統合してきた[7]。

### 5.3 具体的なツールとアプリケーション

**FLUCTUAT**：
FLUCTUATは、Cプログラムにおける丸め誤差の伝播を研究するためにCEA-LISTによって開発された静的アナライザーであり、Airbusは現在、いくつかの制御プログラムの精度分析の一部を自動化するためにFLUCTUATを産業的に使用しようとしている[7]。

**Caveat**：
Airbusは、A380プログラムの重要なアプリケーションのために開発プロセスに形式手法を導入することを選択し、単体検証のための特定の単体証明方法が定義され、CEAによって生産された形式検証ツールCaveatが選択され、ワークベンチに統合された[8]。

### 5.4 DO-333標準

DO-333は、DO-178C標準の補足であり、航空機搭載ソフトウェア開発プロセスのレビューと分析における形式手法の適用を指導することに専念している[8]。

**注**：検索結果は主にAirbusの形式手法の実践に焦点を当てている。Boeingの航空電子工学検証のための形式手法の使用に関する情報は、これらの結果では顕著に特集されていなかった。

## 6. SCADE（Safety Critical Application Development Environment）

### 6.1 概要

SCADEは、安全クリティカルな組み込み制御ソフトウェアを開発するための高レベル言語および環境である[9]。航空電子工学、原子力発電所、輸送、自動車など、さまざまなアプリケーション領域で20年以上使用されてきた[9]。

### 6.2 Lustreとの関係

SCADEは、CaspiとHalbwachsによって発明された同期データフロー言語Lustreに基づいて設立された[9][10]。Safety Critical Application Development Environment（SCADE）は、グラフィカル構文を持つモデリングツールであるが、Scadeと呼ばれるテキスト言語も採用しており、これはLustreと意味的に近い[10]。

### 6.3 進化と特徴

初期の頃、それは主にLustreのグラフィカル表記として見られていたが、安全クリティカルアプリケーションの最高標準で適格化されたコードジェネレータという独自かつ重要な追加機能があった[9]。

SCADE 6は、もともとLustreデータフロースタイルをEsterelとSyncChartsから借用した制御構造と組み合わせ、安全性プロパティを確保するためにLucid Synchroneからのコンパイルと静的解析を組み合わせている[9]。

### 6.4 注目すべきアプリケーション

安全クリティカルな制御システムの領域において、Lustre/SCADE開発環境は、香港地下鉄信号システムやエアバスA380の飛行制御などの注目すべき成果でその価値を証明している[10]。

## 7. 航空仕様の階層構造

### 7.1 階層構造

航空ソフトウェアの仕様は、以下の階層構造を持つ：

**システム要件 → ソフトウェア高レベル要件（HLR） → ソフトウェア低レベル要件（LLR） → ソースコード**

高レベル要件（HLR）の開発は、システム要件の定義に従うが、低レベル要件（LLR）の開発に先行し、HLRはシステム要件とLLRの間の「橋渡し」として機能する[11]。

### 7.2 設計プロセス

ソフトウェア高レベル要件は、ソフトウェアアーキテクチャと、ソースコードの実装に使用できる低レベル要件を開発するために、1回以上の反復を通じて洗練される[11]。DO-178Cにおける設計は、アーキテクチャと低レベル要件の組み合わせであり、ソフトウェアのアーキテクチャを設計する際には、すでに設定した高レベル要件を満たすことができるシステムを形成するために、低レベル要件を定義することが重要である[11]。

### 7.3 トレーサビリティ要件

開発チームは、すべての下位レベルの成果物が上位レベルの成果物を満たすこと、要件ベースのカバレッジ分析を通じて要件とテストケース間にトレーサビリティがあること、構造的カバレッジ分析を通じてコード構造とテストケース間のトレーサビリティを示す必要がある[11]。

低レベル要件（LLR）は、それが満たすことを意図した高レベル要件（HLR）にトレースアップされ、それを実装することを意図したソースコードの行、要件に対するソースコードの正確性を検証することを意図したテストケース、およびそれらのテストの結果にもトレースされる[11]。

トレーサビリティ分析は、各要件がソースコードによって満たされること、各機能要件がテストによって検証されること、ソースコードの各行に目的がある（要件に接続されている）ことなどを保証するために使用される[11]。

### 7.4 コード実装要件

ソースコードの各行は、低レベルシステム要件にトレース可能に対応する必要がある[11]。

この階層構造は、航空ソフトウェアがシステムレベルの目的から個々のコード行まで完全なトレーサビリティを維持することを保証し、これは航空機搭載システムの安全性と認証要件を維持するために重要である。

## 8. MC/DC（Modified Condition/Decision Coverage）

### 8.1 概要

Modified Condition/Decision Coverage（MC/DC、修正条件/判定カバレッジ）は、航空産業における重要な組み込みソフトウェアシステムの厳格なテストから生まれたソフトウェアテスト概念である[12][13]。すべての可能な条件の組み合わせの網羅的テストが非実用的である場合に、具体的に対処する構造的カバレッジメトリックである[12]。

### 8.2 コア概念

MC/DCは、判定文内の各条件が判定の結果に独立して影響を与えることを保証するソフトウェアテスト基準であり、判定内の各条件が、その判定の結果に独立して影響を与えることを示す[12][13]。

MC/DCテストペア（独立性ペアとも呼ばれる）は、判定文内の各条件が判定の結果に独立して影響を与えることを実証するために設計されたテストケースのペアである[12]。

### 8.3 航空標準

民間航空セクターでは、DO-178C §6.4.4.2は「ソフトウェア構造のテストカバレッジが達成される」ことを要求しており、表A-7は、「修正条件/判定カバレッジ」がソフトウェアレベルA（DAL A）に必要であることを明確にしている[13][14]。商用輸送機における安全クリティカルアプリケーション向けに意図されたソフトウェアのテストは、ソフトウェア構造の修正条件/判定カバレッジ（MC/DC）を達成する必要がある[13]。

### 8.4 効率の優位性

「n」を条件の数とすると、100%カバレッジを達成するために最低「n + 1」の組み合わせが必要であり、これは合計2^nの組み合わせとは対照的である[13][14]。これにより、MC/DCは、特に複雑な判定ロジックに対して、すべての可能な条件の組み合わせの網羅的テストよりもはるかに実用的になる[13]。

### 8.5 他の産業

MC/DCの概念は、ソフトウェアの信頼性が最も重要な他の産業でも採用されている[14]。IEC 61508とその派生物（自動車ソフトウェアのISO 26262や医療機器のIEC 62304を含む）によって代表される機能安全標準で、最高の安全度水準に推奨されている[14]。

## 9. DO-178C検証・妥当性確認・テスト

### 9.1 ソフトウェア検証プロセス

ソフトウェア検証プロセスは、ソフトウェアの正確性を示すことを目的としている[15]。要件レビュー、コードレビュー、分析、およびテストで構成される[15]。高レベルシステム要件からオブジェクトコードへの分解のすべてのステップがこのプロセスで考慮される[15]。

### 9.2 テスト要件

DO-178Cは、ソフトウェア検証がソースコードベースではなく「要件ベース」であることを指定している[15]。要件ベースのテストでは、テスターまたは開発者が、要件を満たすコードを実行するための入力データを構築する必要がある[15]。これらの要件ベースのテストは、2つの形式を取る：通常範囲テストケースとロバストネステストケース[15]。

通常範囲テストの目的は、通常の入力と動作条件に対してソフトウェアが応答する能力を実証することである[15]。レベルC以上では、ロバストネステストは、異常な入力または条件の場合にソフトウェアが不都合な動作を示さないことを示す必要がある[15]。

### 9.3 カバレッジ要件

DO-178Cは、カバレッジを2つのタイプ、要件ベースのカバレッジと構造的カバレッジに分割する[15]。要件ベースのカバレッジは、すべての要件が満たされたという証拠を提供することを確認するためにソフトウェアテストケースを分析する[15]。構造的カバレッジは、テストケースがすべてのコード文を実行し、すべてのデータ結合と制御パスがテストされたことを証明することによって満たされる[15]。

### 9.4 設計保証レベル

満たされるべき目的の数（一部は独立性を伴う）は、ソフトウェアレベルA-Eによって決定される[15]。DALがより重要であるほど、より多くの活動と目的が必要とされる[15]。

### 9.5 トレーサビリティ

DO-178Cは、システム要件と高レベル要件、高レベル要件と低レベル要件、低レベル要件とソースコード、ソフトウェア要件とテストケース、テストケースと手順、テスト手順とテスト結果の間に、双方向または双方向のトレーサビリティが必要であることを強調している[16]。DO-178Cは、トレーサビリティが両方向で検証可能である必要があり、これらのエンティティ間に検証可能なトレースデータが存在する必要があることを明確にしている[16]。

## 10. まとめ

### 10.1 DO-178Cの重要性

DO-178Cは、航空ソフトウェアの開発と認証における国際的な標準である。その厳格なプロセスとトレーサビリティ要件により、航空機搭載ソフトウェアの安全性と信頼性が保証される。

### 10.2 形式手法の役割

DO-333形式手法補足書により、定理証明、モデル検査、抽象解釈などの形式手法が航空ソフトウェア開発に統合されることが可能になった。Airbusなどの主要な航空機メーカーは、これらの技術を積極的に採用している。

### 10.3 設計保証レベル

DAL A（最高）からDAL E（最低）までの5つのレベルにより、ソフトウェアの重要度に応じた適切なレベルの検証と妥当性確認が保証される。DAL Aのソフトウェアには、MC/DCカバレッジを含む最も厳格な要件が課される。

### 10.4 SCADE/Lustreの貢献

SCADEとLustreは、形式的に検証可能なコードを生成できるモデルベース開発環境として、航空ソフトウェア開発において重要な役割を果たしている。エアバスA380の飛行制御システムなど、実際の安全クリティカルシステムで成功を収めている。

### 10.5 階層的仕様構造

システム要件からソースコードまでの階層的な仕様構造と厳格なトレーサビリティ要件により、各レベルでの要件の一貫性と完全性が保証される。

### 10.6 今後の方向性

- AI技術の航空ソフトウェアへの適用と新しい標準の開発
- 形式手法ツールのさらなる進化と産業での採用拡大
- モデルベース開発と形式検証の統合の深化
- 認証プロセスの効率化と自動化

航空ソフトウェアは、形式手法と厳格な開発プロセスの統合において最も進んだ領域の1つである。DO-178CとDO-333は、安全クリティカルソフトウェアの開発と認証のための包括的なフレームワークを提供し、他の産業における安全クリティカルシステムの開発にも影響を与えている。

## 参考文献

1. [DO-178C - Wikipedia](https://en.wikipedia.org/wiki/DO-178C)
2. [DO-178C Guidance: Introduction to RTCA DO-178 certification | Rapita Systems](https://www.rapitasystems.com/do178)
3. [AFuzion: Introduction to DO-333 Formal Methods](https://afuzion.com/do-333-introduction-formal-methods/)
4. [Introduction to DO-333 Formal Methods - Visure Solutions](https://visuresolutions.com/aerospace-and-defense/do-333/)
5. [Design Assurance Level (DAL) and Software Level in DO-178C | TheCloudStrap](https://thecloudstrap.com/design-assurance-level-dal-in-do-178c/)
6. [Design Assurance Level A (DAL-A) | Sital Technology](https://sitaltech.com/design-assurance-level-a-dal-a-ensuring-top-notch-aircraft-safety/)
7. [Formal Verification of Avionics Software Products](https://www.di.ens.fr/~delmas/papers/fm09.pdf)
8. [Formal Verification Workbench for Airbus Avionics Software](https://hal.science/hal-02270419/)
9. [Scade 6: A Formal Language for Embedded Critical Software Development](https://www.di.ens.fr/~pouzet/bib/tase17.pdf)
10. [From Lustre to Graphical Models and SCCharts | ACM](https://dl.acm.org/doi/10.1145/3544973)
11. [DO-178C overview: Design guidance for aviation software development | IBM](https://www.ibm.com/internet-of-things/learn/aerospace-requirements-management/)
12. [Modified Condition/Decision Coverage (MC/DC) | LDRA](https://ldra.com/capabilities/mc-dc/)
13. [Modified condition/decision coverage - Wikipedia](https://en.wikipedia.org/wiki/Modified_condition/decision_coverage)
14. [MC/DC Coverage | Rapita Systems](https://www.rapitasystems.com/mcdc-coverage)
15. [Complete Verification and Validation for DO-178C](https://cdn.vector.com/cms/content/know-how/aerospace/Documents/Complete_Verification_and_Validation_for_DO-178C.pdf)
16. [DO-178C testing | Rapita Systems](https://www.rapitasystems.com/do178c-testing)
