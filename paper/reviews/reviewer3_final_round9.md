Verdict: NG

以下、致命的な問題点と最小修正案を示します。

---

## 致命点1: 定理名と本文の追跡不整合

**問題箇所**:
- §4.2「層間合成則」で本文は `preimage_compose` を引用しているが、Lean実装（`paper/lean/UadfU0/InterLayer/Composition.lean`）では次の不一致が発生している:
  - 本文では「`proj_j = bind(proj_i, g)` なら `f^{-1}_{0j}(S) = f^{-1}_{0i}(pullbackVia_g(S))`」と記述
  - Lean実装では仮定 `hcomm : ∀ x : α, M.proj j x = Option.bind (M.proj i x) g` と結論 `M.preimage j S = M.preimage i (M.pullbackVia g S)` が一致している
  - しかし本文中の数式 `proj_j = bind(proj_i, g)` は **すべての `x` に対する等式** を意味するが、Lean仮定は `∀ x` で明示的に全称量化されている。この食い違いは軽微だが、形式的には本文側が省略記法を使っているため、定理語彙の一意性の観点から明示すべき。

**最小修正案**:
§4.2 の仮定記述を次のように変更:
```
`∀ x, proj_j(x) = bind(proj_i(x), g)` なら
```

---

## 致命点2: §6.2 抽出パイプラインの意味保存性の未証明を明示していない

**問題箇所**:
- §6.2 本文で「抽出器自体（regex層）の正当性保証は本稿の範囲外」と記載しているが、これは §4.3 の `preimage_eq_semanticPullback` との接続が **切れていること** を意味する
- §4.3 は抽象関係 `E : Ω → β_i → Prop` に対する定理であり、実抽出器（regex）が `E` を満たすことは証明していない
- したがって「定理4.3を本デモへ直接適用したとは主張しない」という記述があるが、これは **理論（RQ5）と実装（RQ6）の gap** を示唆しており、形式検証の立場からは致命的な断絶である

**最小修正案**:
§6.2 の冒頭に次の注意を追加:
```
**重要**: 本節の実抽出パイプラインは §4.3 の adequacy 定理（`preimage_eq_semanticPullback`）の前提となる抽象関係 `E` の意味保存性を証明していない。したがって RQ5 (theory) の実適用には別途、regex 抽出器の soundness/completeness 証明が必要である。本節は RQ6 (practice) の技術的再実行可能性デモに限定する。
```

---

## 致命点3: `none` の must 解釈と矛盾判定の偽陽性リスクの未評価

**問題箇所**:
- §4.7 で「本稿の `preimage` は `none` を membership 不成立として扱う（must 寄り）」と明記しているが、この解釈が **矛盾判定に与える影響** が定量評価されていない
- 具体的には、`proj_i(x) = none` のとき `x ∉ lifted(i)` となるため、`U∧` の空判定で偽陽性（実際は同時満足可能だが空と判定される）が発生し得る
- §6.2 の実OSSデモでは `n_real_contradictory = 0` だが、これは **数値境界制約** に限定された結果であり、`none` が発生し得る構造制約（例: optional field の有無）では異なる挙動を示す可能性がある
- §4.7 の「偽陽性/偽陰性の優先方針と合わせて宣言する必要がある」という記述はあるが、本稿ではその宣言を実デモに適用していない

**最小修正案**:
§9（限界）に次を追加:
```
8. `none` の must 解釈（§4.7）は矛盾判定の偽陽性リスクを含むが、本稿では数値境界制約に限定したため定量評価していない。構造制約や optional field を含む実プロジェクトでは、may 解釈との比較評価が必要である。
```

---

## 総評

本稿は型整合・記法整合の面では高い水準にあるが、以下の点で形式検証の立場から致命的:
1. 理論定理（§4.3 adequacy）と実抽出器（§6.2 regex）の接続が切れている
2. `none` 解釈の矛盾判定への影響が未評価
3. 定理名と本文の全称量化の明示に軽微な不一致

最小修正案は上記3点の追記で十分だが、理想的には §6.3 で regex 抽出器の soundness/completeness を示すか、または理論と実装の gap を研究限界として明確に分離すべきである。
